import{d as u,r,M as _,a as k,o as c,b as v,g as C,e as h,cS as b,cD as y,l as t}from"./index-B79ij98t.js";import{_ as g}from"./tree.vue_vue_type_style_index_0_lang-PVTBb_4j.js";import"./tooltip.vue_vue_type_script_setup_true_lang-B6a1x6do.js";import"./index-C4nzcuod.js";import"./Trigger-bEby5AqF.js";import"./firstNotUndefined-CLFzEa0p.js";import"./colors-DwrYPzrp.js";import"./index-DWxQIYW5.js";import"./index-QFv_LOMZ.js";import"./shallowequal-DcS8PfTI.js";import"./collapseMotion-8U-C_miP.js";import"./Overflow-BbIXCKr5.js";import"./slide-QRbVbzTY.js";import"./move-dl2J5Yne.js";import"./RightOutlined-DsQ0MVV1.js";import"./List-BbMAA7pi.js";import"./index-vCwTGQOq.js";import"./debounce-CTKsS_Ar.js";import"./isSymbol-CcmhocIJ.js";const w={class:"portlet"},B={class:"portlet-body"},K=u({__name:"index",props:{data:{}},setup(n){const l=r(n.data??{}),d=[{title:"编辑节点",icon:"edit",op:"edit"},{title:"删除节点",icon:"trash",op:"del"},{title:"新增子节点",icon:"plus",op:"add"},{title:"清空子节点",icon:"remove",op:"clear"}],a=_(null),i=r({}),s=async()=>{const o=await t.curl("fetch");o&&(l.value=o.data)},p=async o=>{t.loadModal("edit?id="+o,a,i)},m=async(o,e)=>{e=="add"?t.loadModal("add?id="+o,a,i):e=="edit"?t.loadModal("edit?id="+o,a,i):e=="del"?await t.confirmCurl("/base/navtree/delete?id="+o,"若有子节点也将连带删除")&&s():e=="clear"&&await t.confirmCurl("/base/navtree/delete-sub?id="+o,"仅清空子节点，不删除节点本身")&&s()};return(o,e)=>(c(),k("div",w,[v("div",B,[C(g,{data:l.value,ops:d,onRightClick:m,onLeftClick:p},null,8,["data"]),(c(),h(y(a.value),b(i.value,{onSubmit:s,onReload:s}),null,16))])]))}});export{K as default};
