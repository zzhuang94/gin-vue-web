import{d as u,r,M as _,a as k,o as c,b as v,g as C,e as h,cS as b,cD as y,l as t}from"./index-DYOhyz3y.js";import{_ as g}from"./tree.vue_vue_type_style_index_0_lang-6FHk80j3.js";import"./tooltip.vue_vue_type_script_setup_true_lang-Bs5npMln.js";import"./index-C3yRgRBs.js";import"./Trigger-hrLkRm_d.js";import"./firstNotUndefined-CLFzEa0p.js";import"./colors-Bpsbp8bl.js";import"./index-CO8NGxNH.js";import"./index-Bcw54K48.js";import"./shallowequal-BRkqXPnN.js";import"./collapseMotion-Wl6vKenj.js";import"./Overflow-bmiPXItz.js";import"./slide-CQ-VQXWP.js";import"./move-BWutTfui.js";import"./RightOutlined-jIiVGGG3.js";import"./List-CpsawxSz.js";import"./index-CA7H8caH.js";import"./debounce-BGQhSD8L.js";import"./isSymbol-BvF39bG2.js";const w={class:"portlet"},B={class:"portlet-body"},K=u({__name:"index",props:{data:{}},setup(n){const l=r(n.data??{}),d=[{title:"编辑节点",icon:"edit",op:"edit"},{title:"删除节点",icon:"trash",op:"del"},{title:"新增子节点",icon:"plus",op:"add"},{title:"清空子节点",icon:"remove",op:"clear"}],a=_(null),i=r({}),s=async()=>{const o=await t.curl("fetch");o&&(l.value=o.data)},p=async o=>{t.loadModal("edit?id="+o,a,i)},m=async(o,e)=>{e=="add"?t.loadModal("add?id="+o,a,i):e=="edit"?t.loadModal("edit?id="+o,a,i):e=="del"?await t.confirmCurl("/base/navtree/delete?id="+o,"若有子节点也将连带删除")&&s():e=="clear"&&await t.confirmCurl("/base/navtree/delete-sub?id="+o,"仅清空子节点，不删除节点本身")&&s()};return(o,e)=>(c(),k("div",w,[v("div",B,[C(g,{data:l.value,ops:d,onRightClick:m,onLeftClick:p},null,8,["data"]),(c(),h(y(a.value),b(i.value,{onSubmit:s,onReload:s}),null,16))])]))}});export{K as default};
