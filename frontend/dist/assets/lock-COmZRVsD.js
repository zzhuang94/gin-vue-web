import{d as v,r as u,w as g,a as n,o as c,m as x,f as h,g as y,t as d,k,b as i,F as C,U as b,l as w,Z as _}from"./index-B79ij98t.js";import{_ as B}from"./index-J4A0jR7B.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={key:0,style:{"margin-right":"0.5rem"}},L=v({__name:"lock",props:{user:{},type:{},title:{},locked:{type:Boolean},lockers:{default:()=>[]}},setup(t){const s=t,l=u(s.locked??!1),a=u([...s.lockers??[]]);g(()=>({locked:s.locked,lockers:s.lockers}),o=>{l.value=o.locked,a.value.splice(0,a.value.length,...o.lockers)},{deep:!0});const p=async()=>{if(!await w.ajax("/base/lock/lock",{name:s.type??""})){l.value=!l.value;return}if(l.value&&s.user)a.value.includes(s.user)||a.value.push(s.user);else if(s.user){const e=a.value.indexOf(s.user);e>-1&&a.value.splice(e,1)}};return(o,e)=>{const f=B;return c(),n("div",{style:x(t.title?{border:"1px solid #C0C0C0",borderRadius:"5px",padding:"5px 10px"}:{})},[t.title!=""?(c(),n("b",V,d(t.title),1)):h("",!0),y(f,{checked:l.value,"onUpdate:checked":e[0]||(e[0]=r=>l.value=r),onChange:p,class:"warning-switch"},{checkedChildren:k(()=>[...e[1]||(e[1]=[i("i",{class:"fa fa-lock lock-icon"},null,-1)])]),unCheckedChildren:k(()=>[...e[2]||(e[2]=[i("i",{class:"fa fa-lock-open lock-icon"},null,-1)])]),_:1},8,["checked"]),(c(!0),n(C,null,b(a.value,(r,m)=>(c(),n("span",{key:m,class:"badge badge-warning"},[e[3]||(e[3]=i("i",{class:"fa fa-lock"},null,-1)),_(" "+d(r),1)]))),128))],4)}}}),j=N(L,[["__scopeId","data-v-39512585"]]);export{j as default};
