import{d as C,as as B,r as c,i as S,l as v,Y as N,a as r,o as l,n as d,g as a,k as s,F as y,U,e as V,f as j,b as t,t as f,at as A,m as F,$ as _}from"./index-DYOhyz3y.js";import{_ as b}from"./tooltip.vue_vue_type_script_setup_true_lang-Bs5npMln.js";import{S as R}from"./index-9aRJENfp.js";import{_ as $}from"./index-Dui-BOcF.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C3yRgRBs.js";import"./Trigger-hrLkRm_d.js";import"./firstNotUndefined-CLFzEa0p.js";import"./colors-Bpsbp8bl.js";import"./useFlexGapSupport-C2wBInw4.js";const E={class:"auto-hide-l1"},H={href:"#",target:"_blank"},I={href:"#",target:"_blank"},L={style:{"font-size":"1.2rem"}},M=["src"],T={key:1,style:{width:"40px",height:"40px",cursor:"pointer","border-radius":"50%",background:"#1890ff",display:"flex","align-items":"center","justify-content":"center",color:"white","font-weight":"bold","font-size":"16px"}},Y=C({__name:"header",props:{l1:{},env:{},user:{}},setup(o){const h=B(),i=c(""),u=c("200px"),m=c("");S(async()=>{m.value=await v.loadAvatar()});const k=()=>{v.redirect("/?ip[]="+i.value,"_self",h)};return(q,e)=>{const p=N("router-link"),g=R,x=A,w=$;return l(),r("div",{class:d(o.env)},[a(g,{size:30,class:"l1 space"},{default:s(()=>[(l(!0),r(y,null,U(o.l1,(n,z)=>(l(),r(y,{key:z},[n.path?(l(),V(p,{key:0,to:n.path},{default:s(()=>[t("span",{class:d(["a",n.active?"active":""])},[t("i",{class:d("fas fa-"+n.icon),style:{"margin-right":"0.4rem"}},null,2),t("span",E,f(n.name),1)],2)]),_:2},1032,["to"])):j("",!0)],64))),128))]),_:1}),a(g,{size:20,class:"pull-right space"},{default:s(()=>[a(x,{value:i.value,"onUpdate:value":e[0]||(e[0]=n=>i.value=n),style:F({width:u.value,transition:"width 0.3s ease"}),class:"search-input",placeholder:"全局搜索","enter-button":"",onSearch:k,onFocus:e[1]||(e[1]=()=>u.value="300px"),onBlur:e[2]||(e[2]=()=>u.value="200px")},null,8,["value","style"]),t("a",H,[a(b,{icon:!1,msg:"使用文档",placement:"bottom"},{default:s(()=>[...e[3]||(e[3]=[t("i",{class:"fa fa-book",style:{"font-size":"1.4rem"}},null,-1)])]),_:1})]),t("a",I,[a(b,{icon:!1,msg:"提交反馈",placement:"bottom"},{default:s(()=>[...e[4]||(e[4]=[t("i",{class:"fa fa-commenting",style:{"font-size":"1.4rem"}},null,-1)])]),_:1})]),a(w,{placement:"bottomRight",trigger:"click"},{title:s(()=>[t("span",L,[e[5]||(e[5]=t("i",{class:"fa fa-user",style:{width:"2rem"}},null,-1)),_(" "+f(o.user?.cn_name||o.user?.username),1)])]),content:s(()=>[e[8]||(e[8]=t("hr",null,null,-1)),a(p,{to:"/base/user/edit",class:"link"},{default:s(()=>[...e[6]||(e[6]=[t("i",{class:"fa fa-user-gear",style:{width:"2rem"}},null,-1),_(),t("b",null,"个人设置",-1)])]),_:1}),e[9]||(e[9]=t("hr",null,null,-1)),a(p,{to:"/base/user/join",class:"link"},{default:s(()=>[...e[7]||(e[7]=[t("i",{class:"fa fa-user-group",style:{width:"2rem"}},null,-1),_(),t("b",null,"切换账号",-1)])]),_:1})]),default:s(()=>[m.value?(l(),r("img",{key:0,src:m.value,style:{width:"40px",height:"40px",cursor:"pointer","border-radius":"50%","object-fit":"cover"}},null,8,M)):(l(),r("div",T,f((o.user?.cn_name||o.user?.username||"A").charAt(0).toUpperCase()),1))]),_:1})]),_:1})],2)}}}),te=D(Y,[["__scopeId","data-v-cf6d0c81"]]);export{te as default};
