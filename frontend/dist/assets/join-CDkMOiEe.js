import{d as k,r,a as x,o as $,b as e,$ as y,g as t,k as a,Z as C,c$ as h,b_ as B,l as N}from"./index-DYOhyz3y.js";import{S as V}from"./index-9aRJENfp.js";import{_ as j,F}from"./index-CtWRo1tg.js";import{a as S,_ as U}from"./index-VQXDbL8z.js";import"./useFlexGapSupport-C2wBInw4.js";import"./Trigger-hrLkRm_d.js";import"./hasIn-DVGmtqdP.js";import"./isSymbol-BvF39bG2.js";import"./Col-DGp_g86x.js";import"./responsiveObserve-ZGacTiJK.js";import"./collapseMotion-Wl6vKenj.js";import"./debounce-BGQhSD8L.js";import"./index-C3yRgRBs.js";import"./firstNotUndefined-CLFzEa0p.js";import"./colors-Bpsbp8bl.js";const z={class:"portlet"},E={class:"portlet-body"},I=["disabled"],T=["disabled"],X=k({__name:"join",props:{path:{}},setup(c){const d=c,s=r(!1),l=r(""),p=r(""),u=async i=>{if(!l.value||!p.value){B.error("错误","请输入用户名和密码");return}s.value=!0;const o=await N.ajax(`/base/user/${i}`,{username:l.value,password:p.value});s.value=!1,o&&(window.location.href=d.path??"/")};return(i,o)=>{const f=C,_=j,v=h,m=U,b=V,w=S,g=F;return $(),x("div",z,[o[4]||(o[4]=e("div",{class:"portlet-head"},[e("b",{style:{"font-size":"1.2rem"}},[e("i",{class:"fa fa-user"}),y(" 用户注册/登录")])],-1)),e("div",E,[t(g,{"label-col":{span:6},"wrapper-col":{span:12}},{default:a(()=>[t(_,{label:"账号"},{default:a(()=>[t(f,{value:l.value,"onUpdate:value":o[0]||(o[0]=n=>l.value=n),placeholder:"请输入账号（英文字母和数字组合）"},null,8,["value"])]),_:1}),t(_,{label:"密码"},{default:a(()=>[t(v,{value:p.value,"onUpdate:value":o[1]||(o[1]=n=>p.value=n),placeholder:"请输入密码"},null,8,["value"])]),_:1}),t(w,null,{default:a(()=>[t(m,{span:6}),t(m,{span:18},{default:a(()=>[t(b,null,{default:a(()=>[e("button",{class:"btn btn-primary",onClick:o[2]||(o[2]=n=>u("sign-up")),disabled:s.value}," 注册 ",8,I),e("button",{class:"btn btn-success",onClick:o[3]||(o[3]=n=>u("log-in")),disabled:s.value}," 登录 ",8,T)]),_:1})]),_:1})]),_:1})]),_:1})])])}}});export{X as default};
