import{d as v,r as n,i as p,w as _,e as g,a as k,o as c,b as e,t,g as f,l as y}from"./index-DYOhyz3y.js";import B from"./td-BOJPSNx7.js";import{_ as m}from"./log-diffs.vue_vue_type_script_setup_true_lang-Cvo3ldPF.js";const h={key:1},V=v({__name:"log",props:{id:{default:""},detail:{type:Boolean,default:!1},op_rule:{default:null}},setup(o){const s=o,u=n(""),a=n({}),d=n([]),i=n(""),r=async()=>{if(!s.id)return;const l=await y.curl(`log?id=${s.id}`);u.value=l.name,a.value=l.log,d.value=l.diffs,i.value=l.time};return p(r),_(()=>s.id,r),(l,b)=>o.detail?(c(),k("tr",h,[e("td",null,t(a.value.id),1),e("td",null,t(u.value),1),e("td",null,[f(B,{r:o.op_rule,v:a.value.op},null,8,["r","v"])]),e("td",null,t(a.value.data_table),1),e("td",null,t(a.value.data_id),1),e("td",null,[f(m,{diffs:d.value},null,8,["diffs"])]),e("td",null,t(i.value),1)])):(c(),g(m,{key:0,name:u.value,diffs:d.value},null,8,["name","diffs"]))}});export{V as _};
