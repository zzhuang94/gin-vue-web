import{d as W,C as le,r as O,w as U,z as d,E as q,g as I,G as E,P as Q,v as S,q as B,s as oe,bU as R,by as Y,bz as ue,D as Z,bC as ce,bg as re,c as V,N as se,j as de,i as ie,aA as ve,I as fe,be as he}from"./index-B79ij98t.js";import{u as ee}from"./index-vCwTGQOq.js";var be=function(e,v){var u={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&v.indexOf(a)<0&&(u[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)v.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(u[a[o]]=e[a[o]]);return u};const me={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:Q.any,required:Boolean},ge=W({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:le(me,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(e,v){let{attrs:u,emit:a,expose:o}=v;const p=O(e.checked===void 0?e.defaultChecked:e.checked),b=O();U(()=>e.checked,()=>{p.value=e.checked}),o({focus(){var n;(n=b.value)===null||n===void 0||n.focus()},blur(){var n;(n=b.value)===null||n===void 0||n.blur()}});const x=O(),i=n=>{if(e.disabled)return;e.checked===void 0&&(p.value=n.target.checked),n.shiftKey=x.value;const w={target:d(d({},e),{checked:n.target.checked}),stopPropagation(){n.stopPropagation()},preventDefault(){n.preventDefault()},nativeEvent:n};e.checked!==void 0&&(b.value.checked=!!e.checked),a("change",w),x.value=!1},C=n=>{a("click",n),x.value=n.shiftKey};return()=>{const{prefixCls:n,name:w,id:f,type:m,disabled:c,readonly:k,tabindex:_,autofocus:$,value:y,required:F}=e,l=be(e,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:t,onFocus:s,onBlur:r,onKeydown:h,onKeypress:G,onKeyup:A}=u,M=d(d({},l),u),P=Object.keys(M).reduce((N,j)=>((j.startsWith("data-")||j.startsWith("aria-")||j==="role")&&(N[j]=M[j]),N),{}),H=q(n,t,{[`${n}-checked`]:p.value,[`${n}-disabled`]:c}),T=d(d({name:w,id:f,type:m,readonly:k,disabled:c,tabindex:_,class:`${n}-input`,checked:!!p.value,autofocus:$,value:y},P),{onChange:i,onClick:C,onFocus:s,onBlur:r,onKeydown:h,onKeypress:G,onKeyup:A,required:F});return I("span",{class:H},[I("input",E({ref:b},T),null),I("span",{class:`${n}-inner`},null)])}}}),pe=()=>({name:String,prefixCls:String,options:R([]),disabled:Boolean,id:String}),xe=()=>d(d({},pe()),{defaultValue:R(),value:R(),onChange:B(),"onUpdate:value":B()}),Ce=()=>({prefixCls:String,defaultChecked:S(),checked:S(),disabled:S(),isGroup:S(),value:Q.any,name:String,id:String,indeterminate:S(),type:oe("checkbox"),autofocus:S(),onChange:B(),"onUpdate:checked":B(),onClick:B(),skipGroup:S(!1)}),ke=()=>d(d({},Ce()),{indeterminate:S(!1)}),ae=Symbol("CheckboxGroupContext");var L=function(e,v){var u={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&v.indexOf(a)<0&&(u[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)v.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(u[a[o]]=e[a[o]]);return u};const D=W({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:ke(),setup(e,v){let{emit:u,attrs:a,slots:o,expose:p}=v;const b=Y(),x=ue.useInject(),{prefixCls:i,direction:C,disabled:n}=Z("checkbox",e),w=ce(),[f,m]=ee(i),c=re(ae,void 0),k=Symbol("checkboxUniId"),_=V(()=>c?.disabled.value||n.value);se(()=>{!e.skipGroup&&c&&c.registerValue(k,e.value)}),de(()=>{c&&c.cancelValue(k)}),ie(()=>{ve(!!(e.checked!==void 0||c||e.value===void 0))});const $=t=>{const s=t.target.checked;u("update:checked",s),u("change",t),b.onFieldChange()},y=O();return p({focus:()=>{var t;(t=y.value)===null||t===void 0||t.focus()},blur:()=>{var t;(t=y.value)===null||t===void 0||t.blur()}}),()=>{var t;const s=fe((t=o.default)===null||t===void 0?void 0:t.call(o)),{indeterminate:r,skipGroup:h,id:G=b.id.value}=e,A=L(e,["indeterminate","skipGroup","id"]),{onMouseenter:M,onMouseleave:P,onInput:H,class:T,style:N}=a,j=L(a,["onMouseenter","onMouseleave","onInput","class","style"]),g=d(d(d(d({},A),{id:G,prefixCls:i.value}),j),{disabled:_.value});c&&!h?(g.onChange=function(){for(var X=arguments.length,J=new Array(X),K=0;K<X;K++)J[K]=arguments[K];u("change",...J),c.toggleOption({label:s,value:e.value})},g.name=c.name.value,g.checked=c.mergedValue.value.includes(e.value),g.disabled=_.value||w.value,g.indeterminate=r):g.onChange=$;const ne=q({[`${i.value}-wrapper`]:!0,[`${i.value}-rtl`]:C.value==="rtl",[`${i.value}-wrapper-checked`]:g.checked,[`${i.value}-wrapper-disabled`]:g.disabled,[`${i.value}-wrapper-in-form-item`]:x.isFormItemInput},T,m.value),te=q({[`${i.value}-indeterminate`]:r},m.value);return f(I("label",{class:ne,style:N,onMouseenter:M,onMouseleave:P},[I(ge,E(E({"aria-checked":r?"mixed":void 0},g),{},{class:te,ref:y}),null),s.length?I("span",null,[s]):null]))}}}),z=W({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:xe(),setup(e,v){let{slots:u,attrs:a,emit:o,expose:p}=v;const b=Y(),{prefixCls:x,direction:i}=Z("checkbox",e),C=V(()=>`${x.value}-group`),[n,w]=ee(C),f=O((e.value===void 0?e.defaultValue:e.value)||[]);U(()=>e.value,()=>{f.value=e.value||[]});const m=V(()=>e.options.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l)),c=O(Symbol()),k=O(new Map),_=l=>{k.value.delete(l),c.value=Symbol()},$=(l,t)=>{k.value.set(l,t),c.value=Symbol()},y=O(new Map);return U(c,()=>{const l=new Map;for(const t of k.value.values())l.set(t,!0);y.value=l}),he(ae,{cancelValue:_,registerValue:$,toggleOption:l=>{const t=f.value.indexOf(l.value),s=[...f.value];t===-1?s.push(l.value):s.splice(t,1),e.value===void 0&&(f.value=s);const r=s.filter(h=>y.value.has(h)).sort((h,G)=>{const A=m.value.findIndex(P=>P.value===h),M=m.value.findIndex(P=>P.value===G);return A-M});o("update:value",r),o("change",r),b.onFieldChange()},mergedValue:f,name:V(()=>e.name),disabled:V(()=>e.disabled)}),p({mergedValue:f}),()=>{var l;const{id:t=b.id.value}=e;let s=null;return m.value&&m.value.length>0&&(s=m.value.map(r=>{var h;return I(D,{prefixCls:x.value,key:r.value.toString(),disabled:"disabled"in r?r.disabled:e.disabled,indeterminate:r.indeterminate,value:r.value,checked:f.value.indexOf(r.value)!==-1,onChange:r.onChange,class:`${C.value}-item`},{default:()=>[u.label!==void 0?(h=u.label)===null||h===void 0?void 0:h.call(u,r):r.label]})})),n(I("div",E(E({},a),{},{class:[C.value,{[`${C.value}-rtl`]:i.value==="rtl"},a.class,w.value],id:t}),[s||((l=u.default)===null||l===void 0?void 0:l.call(u))]))}}});D.Group=z;D.install=function(e){return e.component(D.name,D),e.component(z.name,z),e};export{D as C};
