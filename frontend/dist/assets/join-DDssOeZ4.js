import{d as k,r,a as x,o as y,b as e,Z as C,g as t,k as a,Y as $,c$ as h,b_ as B,l as N}from"./index-BxxORUsx.js";import{S as V}from"./index-Dcvj4EWx.js";import{_ as j,F}from"./index-BpKw1z2J.js";import{a as S,_ as U}from"./index-B_zMYfd8.js";import"./useFlexGapSupport-Bw9fdAbJ.js";import"./Trigger-CbKhCWPh.js";import"./hasIn-CuipvxLT.js";import"./isSymbol-DuKGHeDw.js";import"./Col-BWTf8d8J.js";import"./responsiveObserve-BSVpK3CT.js";import"./collapseMotion-D2kUzJ6C.js";import"./debounce--UTMqZ4X.js";import"./index-CZMelR5O.js";import"./firstNotUndefined-CLFzEa0p.js";import"./colors-BRB8ISmZ.js";const z={class:"portlet"},E={class:"portlet-body"},I=["disabled"],T=["disabled"],W=k({__name:"join",props:{path:{}},setup(c){const d=c,s=r(!1),l=r(""),p=r(""),u=async i=>{if(!l.value||!p.value){B.error("错误","请输入用户名和密码");return}s.value=!0;const o=await N.ajax(`/base/user/${i}`,{username:l.value,password:p.value});s.value=!1,o&&(window.location.href=d.path??"/")};return(i,o)=>{const f=$,_=j,v=h,m=U,b=V,w=S,g=F;return y(),x("div",z,[o[4]||(o[4]=e("div",{class:"portlet-head"},[e("b",{style:{"font-size":"1.2rem"}},[e("i",{class:"fa fa-user"}),C(" 用户注册/登录")])],-1)),e("div",E,[t(g,{"label-col":{span:6},"wrapper-col":{span:12}},{default:a(()=>[t(_,{label:"账号"},{default:a(()=>[t(f,{value:l.value,"onUpdate:value":o[0]||(o[0]=n=>l.value=n),placeholder:"请输入账号（英文字母和数字组合）"},null,8,["value"])]),_:1}),t(_,{label:"密码"},{default:a(()=>[t(v,{value:p.value,"onUpdate:value":o[1]||(o[1]=n=>p.value=n),placeholder:"请输入密码"},null,8,["value"])]),_:1}),t(w,null,{default:a(()=>[t(m,{span:6}),t(m,{span:18},{default:a(()=>[t(b,null,{default:a(()=>[e("button",{class:"btn btn-primary",onClick:o[2]||(o[2]=n=>u("sign-up")),disabled:s.value}," 注册 ",8,I),e("button",{class:"btn btn-success",onClick:o[3]||(o[3]=n=>u("log-in")),disabled:s.value}," 登录 ",8,T)]),_:1})]),_:1})]),_:1})]),_:1})])])}}});export{W as default};
